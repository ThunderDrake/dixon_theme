// Generated by CoffeeScript 1.12.7
(function() {
  jQuery(function($) {
    var ThemePriceFilter;
    ThemePriceFilter = (function() {
      function ThemePriceFilter($range) {
        var input, input_max, input_min, inputs, max, max_v, min, min_v, range, range_i, step;
        range = $($range);
        range_i = range.find('.range-slider');
        input = range_i.get(0);
        input_min = range.find('input[name="min_price"]');
        input_max = range.find('input[name="max_price"]');
        min = parseInt(input_min.data('min'));
        max = parseInt(input_max.data('max'));
        min_v = parseInt(input_min.val());
        max_v = parseInt(input_max.val());
        step = parseInt(range_i.data('step'));
        noUiSlider.create(input, {
          start: [min_v, max_v],
          connect: true,
          step: step,
          orientation: "horizontal",
          tooltips: false,
          format: wNumb({
            decimals: filter_price_slider_params.currency_format_num_decimals,
            mark: filter_price_slider_params.currency_format_decimal_sep,
            thousand: filter_price_slider_params.currency_format_thousand_sep,
            prefix: filter_price_slider_params.currency_format.prefix,
            suffix: filter_price_slider_params.currency_format.suffix
          }),
          range: {
            'min': min,
            'max': max
          }
        });
        inputs = [input_min, input_max];
        input.noUiSlider.on('update', function(values, index) {
          var v;
          v = values[index] + '';
          v = v.replace(/\s/g, "");
          return inputs[index].val(parseInt(v));
        });
        $(inputs).each(function(index, field) {
          return $(field).on('change', function() {
            var v;
            v = [null, null];
            v[index] = $(this).val();
            return input.noUiSlider.set(v);
          });
        });
      }

      return ThemePriceFilter;

    })();
    $.fn.theme_price_filter = function() {
      new ThemePriceFilter(this);
      return this;
    };
    return $(document.body).ready(function() {
      return $('.price-slider').each(function() {
        return $(this).theme_price_filter();
      });
    });
  });

}).call(this);

//# sourceMappingURL=price-slider.js.map
